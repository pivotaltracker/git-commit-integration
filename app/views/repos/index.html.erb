<p id="notice"><%= notice %></p>

<h1>Listing Repos</h1>

<div class="table-responsive">
  <table class="table">
    <thead>
      <tr>
        <th>Subresources</th>
        <th>Url</th>
        <th>Github Identifier</th>
        <th>Hook</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @repos.each do |repo| %>
        <tr>
          <td>
            <%= link_to 'pushes', repo_pushes_path(repo) %>
            <%= link_to 'commits', repo_commits_path(repo) %>
          </td>
          <td><%= repo.url %></td>
          <td><%= repo.github_identifier %></td>
          <td>
            <div class="json">
              <%= repo.hook %>
            </div>
          </td>
          <td><%= link_to 'Show', repo %></td>
          <td><%= link_to 'Edit', edit_repo_path(repo) %></td>
          <td><%= link_to 'Destroy', repo, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <td><%= link_to '(re)create Webhook', repo_create_hook_path(id: repo.id) %> (must be owner)</td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
<br>

<%= link_to 'New Repo', new_repo_path %>
